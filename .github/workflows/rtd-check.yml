name: "RTD check"
on:
  pull_request: {}

permissions: write-all

jobs:
  sphinx:
    runs-on: ubuntu-latest
    container:
      image: ubuntu:24.04
      env:
        PYTHON_VERSION: "3.10"
    steps:
    - uses: actions/checkout@v4
    - shell: bash
      run: |
        python -m pip install --upgrade --no-cache-dir pip setuptools 
        python -m pip install --upgrade --no-cache-dir sphinx 
        python -m pip install --exists-action=w --no-cache-dir -r docs/requirements.txt 
    - name: asdf
      uses: asdf-vm/actions/plugins-add@v4
      with:
        tool: python
        args: "3.10.15"

  # sphinx:
  #   needs: [determine_runner] 
  #   runs-on: ${{ needs.determine_runner.outputs.runner_group }}
  #   steps:
  #   - uses: actions/checkout@v4
  #   - shell: bash
  #     run: |
  #       asdf global python 3.10.15
  #       python -m pip install --upgrade --no-cache-dir pip setuptools 
  #       python -m pip install --upgrade --no-cache-dir sphinx 
  #       python -m pip install --exists-action=w --no-cache-dir -r docs/requirements.txt 
  #       sphinx-build -b html . _build -W --keep-going
